<a class="skip-link" href="#main-content">Skip to content</a>
<header role="banner" class="[ site-head ] [ pad-top-700 pad-bottom-700 ">
  <div class="wrapper">
    <div class="[ site-head__inner ] [ md:box-flex space-between align-center ]">
      <a href="/" class="[ site-head__site-name ] [ leading-tight ]">
        <span class="visually-hidden">{{ site.name }} - Home</span>
        <span class="[ site-head__site-name ] [ text-600 ]" aria-hidden="true">{{ site.name }}</span>
      </a>
      {% set ariaLabel = 'navigation' %}
      {% include "partials/components/nav.njk" %}
    </div>

    <fieldset class="theme-selector">
      <legend>Theme color</legend>
      {% for themeName, color in tokens.themes %}
      <label for="theme-{{ themeName }}">
        <input class="theme-selector__option" type="radio" {{ "checked" if (themeName == "default")}} name="theme" value="{{ themeName }}" id="theme-{{ themeName }}">
          <span class="theme-selector__text" data-theme="{{ themeName }}">
            {{ themeName }}
          </span>
        </label>
      {% endfor %}
    </fieldset>
    <theme-toggle></theme-toggle>
    <script>
      // TODO: move into separate file (component?)
      // TODO: persist theme
      // TODO: dynamic favicon + logo
      const themeRadioset = document.querySelector('.theme-selector');
      themeRadioset.addEventListener('change', handleChange);

      const themeKey = 'theme';
      const selectedTheme = localStorage.getItem(themeKey);
      if (selectedTheme) {
        const radioToSelect = document.querySelector(`.theme-selector__option[value=${selectedTheme}`);
        radioToSelect.checked = true;
        changeTheme(selectedTheme);
      }

      function handleChange(e) {
        changeTheme(e.target.value);
      }

      function changeTheme(themeName) {
        document.documentElement.setAttribute('data-theme', themeName);
        localStorage.setItem(themeKey, themeName);
      }
    </script>
  </div>
</header>
